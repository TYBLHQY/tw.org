---
title: "Taskwarrior - 标签和虚拟标签"
---

# 标签和虚拟标签

基本的标签语法非常强大且易于使用。
有两种使用方式，如下所示：

    $ task +HOME list
    $ task -WORK list

这两个命令说明了完整的标签界面。
第一个命令是一个筛选器，只列出具有 `HOME` 标签的任务。
第二个命令是一个筛选器，只列出*没有* `WORK` 标签的任务。
因此 + 和 - 语法表示标签的存在和不存在。
这很容易使用，并且可以这样组合：

    $ task +HOME -WORK list

这显示具有 `HOME` 标签但没有 `WORK` 标签的任务。
这是一个非常简单易用的机制，但它需要你的任务被正确标记。
换句话说，它直接基于任务元数据。

标签可以是任何单个词，不以数字、标点符号或数学运算符开头。

## 复杂筛选器

某些 Taskwarrior 筛选器在概念上很简单，但语法并不那么简单。
例如，要确定任务的截止日期是否在当前日期，你需要使用此筛选器：

    $ task due.after:yesterday and due.before:tomorrow list

这筛选在"今天"这个狭窄时间窗口内到期的任务。
请注意，仅指定日期是不够的，因为截止日期都有关联的时间（默认为 0:00:00），如果你想匹配日期，你需要考虑时间。
例如，此命令*不*列出今天到期的任务：

    $ task due:today list

相反，此筛选器匹配到期日期为今天且时间为 0:00 的任务。
为了查看所有今天到期的任务，你需要提供适当的范围括号。

## 简化

虚拟标签可以通过为任务的更复杂状态条件提供简单的标签界面来提供帮助。
有一个名为 `TODAY` 的虚拟标签可以在筛选器中使用，它意味着不使用此筛选器：

    $ task due.after:yesterday and due.before:tomorrow list

我们现在可以使用这个：

    $ task +TODAY list

这是筛选今天到期的任务的更简单方法。
因为这是一个标签界面，我们也可以反转它：

    $ task -TODAY list

这只显示不是今天到期的任务。

虚拟标签内置于 Taskwarrior。
它们在运行时进行评估，这意味着它们不需要直接元数据，因此不占用数据库中的空间，而是根据任务的状态进行确定，其方式与上面的复杂筛选器示例相同。

因此虚拟标签将标签界面的简单性与更复杂的定义条件相结合，以提高便利性。

## 支持的虚拟标签

从版本 2.2.0 开始，Taskwarrior 支持虚拟标签，列表将继续增长。
以下是支持的虚拟标签的完整列表：

* `BLOCKED`   - 任务是否依赖于另一个不完整的任务？
* `UNBLOCKED` - `BLOCKED` 的反面，为方便起见。请注意 `+BLOCKED` == `-UNBLOCKED` 反之亦然。
* `BLOCKING`  - 另一个任务是否依赖于这个不完整的任务？
* `DUE`       - 此任务是否在 7 天内到期？由 `rc.due` 确定
* `DUETODAY`  - 此任务是否在今天某个时间到期？
* `TODAY`     - 此任务是否在今天某个时间到期？
* `OVERDUE`   - 此任务是否已过其截止日期？
* `WEEK`      - 此任务是否在本周内到期？{{< label >}}2.3.0{{< /label >}}
* `MONTH`     - 此任务是否在本月内到期？{{< label >}}2.3.0{{< /label >}}
* `QUARTER`   - 此任务是否在本季度到期？{{< label >}}2.6.0{{< /label >}}
* `YEAR`      - 此任务是否在今年到期？{{< label >}}2.3.0{{< /label >}}
* `ACTIVE`    - 任务是否处于活动状态，即它是否有开始日期？
* `SCHEDULED` - 任务是否已安排，即它是否有安排日期？
* `PARENT`    - 任务是否是隐藏的父循环任务？{{< label >}}2.3.0{{< /label >}}
* `CHILD`     - 任务是否是循环子任务？
* `UNTIL`     - 任务是否到期，即它是否有过期日期？
* `WAITING`   - 任务是否隐藏，即它是否有等待日期？
* `ANNOTATED` - 任务是否有任何注释？
* `READY`     - 任务是否待处理、未被阻止，并且要么未安排，要么在现在之前安排。{{< label >}}2.4.0{{< /label >}}
* `YESTERDAY` - 任务是否在昨天到期？{{< label >}}2.4.0{{< /label >}}
* `TOMORROW`  - 任务是否在明天到期？{{< label >}}2.4.0{{< /label >}}
* `TAGGED`    - 任务是否有任何标签？
* `PENDING`   - 任务是否处于待处理状态？{{< label >}}2.4.0{{< /label >}}
* `COMPLETED` - 任务是否处于完成状态？{{< label >}}2.4.0{{< /label >}}
* `DELETED`   - 任务是否处于删除状态？{{< label >}}2.4.0{{< /label >}}
* `UDA`       - 任务是否包含任何 UDA 值？{{< label >}}2.5.0{{< /label >}}
* `ORPHAN`    - 任务是否包含任何孤立的 UDA 值？{{< label >}}2.5.0{{< /label >}}
* `PRIORITY`  - 任务是否有优先级？{{< label >}}2.5.0{{< /label >}}
* `PROJECT`   - 任务是否有项目？{{< label >}}2.5.0{{< /label >}}
* `LATEST`    - 任务是最近添加的任务吗？{{< label >}}2.5.0{{< /label >}}
