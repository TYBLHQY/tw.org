---
title: "Taskwarrior - 日期和时间"
---

# 日期和时间

Taskwarrior 支持日期和时间值。
日期字段用于跟踪任务创建、截止日期、安排日期、结束日期等，以及为与 [UDA](../udas/) 字段一起使用的日期类型提供支持。

无论使用哪种格式来接受和显示日期和时间，Taskwarrior 都将其解析为 UTC 时间戳值，精确到一秒。
这被称为 [Unix 时间](https://en.wikipedia.org/wiki/Unix_time)、POSIX 时间或时代时间。

但是，您对输入的格式和显示的格式有完全的控制权，本文档就是这一点的演示。

## 截止日期示例

让我们从在创建任务时指定截止日期的示例开始：

```
$ task add Pay the rent due:2024-01-31
```

或者为现有任务添加截止日期：

```
$ task add Pay the rent
$ task 1 modify due:2024-01-31
```

最后，从任务中删除截止日期：

```
$ task 1 modify due:
```

这个示例使用默认的 `rc.dateformat`，即 `Y-M-D`，从命令行读取日期。

## rc.dateformat

`rc.dateformat` 设置允许您指定日期输入的其他格式。
一个示例是默认值 `Y-M-D`，这意味着日期由以下部分组成：

- 一个 4 位数的年份（'Y'）
- 后跟一个连字符（'-'）
- 后跟一个 2 位数的月份（'M'）
- 后跟一个连字符（'-'）
- 后跟一个 2 位数的日期（'D'）

这里是 `rc.dateformat` 的可能元素：

* `m`               - 1 位或 2 位的月份数字，例如 '1'、'12'
* `M`               - 2 位的月份数字，例如 '01'、'12'
* `d`               - 1 位或 2 位的日期数字，例如 '1'、'12'
* `D`               - 2 位的日期数字，例如 '01'、'30'
* `y`               - 2 位年份，例如 '12'，其中世纪假定为 '20'，因此为 '2012'
* `Y`               - 4 位年份，例如 '2015'
* `h`               - 1 位或 2 位的小时，例如 '1'、'23'
* `H`               - 2 位的小时，例如 '01'、'23'
* `n`               - 1 位或 2 位的分钟，例如 '1'、'59'
* `N`               - 2 位的分钟，例如 '01'、'59'
* `s`               - 1 位或 2 位的秒，例如 '1'、'59'
* `S`               - 2 位的秒，例如 '01'、'59'
* `v`               - 1 位或 2 位的周数，例如 '1'、'52'
* `V`               - 2 位的周数，例如 '01'、'52'
* `a`               - 3 字符的英文日期名缩写，例如 'mon'、'tue'
* `A`               - 完整的英文日期名，例如 'monday'、'tuesday'
* `b`               - 3 字符的英文月份名缩写，例如 'jan'、'feb'
* `B`               - 完整的英文月份名，例如 'january'、'february'
* 其他所有内容     - 所有其他格式字符均作为文字处理

## 包含时间

使用 `rc.dateformat` 您可以指定是否包含时间元素的日期。
如果您的日期格式省略了任何时间元素，那么您只指定日期，时间默认为 `00:00:00`。

一个示例显示了使用一个临时覆盖的情况：

```
$ task add Pay the rent due:2015-01-01
$ task 1

Name          Value
------------- ------------------------------------------
ID            1
Description   Pay the rent
Status        Pending
Entered       2015-01-02 16:57:44 (8 seconds)
Due           2015-01-01 00:00:00
Last modified 2015-01-02 16:57:44 (8 seconds)
UUID          6eb7c4d7-6323-4ee3-bf13-63c580de3712
Urgency       9.58

$ task add Open the store due:2015-01-01T08:30:00 rc.dateformat:Y-M-DTH:N:S
$ task 2

Name          Value
------------- ------------------------------------------
ID            2
Description   Open the store
Status        Pending
Entered       2015-01-02 16:58:15 (6 seconds)
Due           2015-01-01 08:30:00
Last modified 2015-01-02 16:58:15 (6 seconds)
UUID          bc8f9b89-8dea-4dae-87e5-b320b651c25c
Urgency       9.419
```

- 两个任务中，第一个添加使用了默认的 `rc.dateformat` 值 `Y-M-D`。
您可以看到 `due` 日期是使用时间 `00:00:00` 记录的。

第二个任务中指定了一个 `rc.dateformat` 覆盖值 `Y-M-DTH:N:S`。
您可以看到 `due` 日期是使用指定的时间 `08:30:00` 记录的。

您可以指定日期或日期 + 时间，但无论您指定什么，都必须与您的 `rc.dateformat` 设置匹配。

## 报告

`rc.dateformat` 设置用于指定命令行上的日期和在报告中显示它们。
大数报告允许进一步覆盖，用于报告特定的显示格式，例如 `rc.report.REPORT.dateformat`，但还有其他的。
详情参见 `man taskrc`。

用于显示目的，有两个額外的元素：

* `j`   - 1、2 或 3 位数的年份序数，有时称为 Julian 日期，例如 '1'、1'、1 或 '365'
* `J`   - 3 位数的年份序数，有时称为 Julian 日期，例如 '001'、'011' 或 '365'

## 同义词 {{< label >}}2.4.0{{< /label >}}

除了格式日期外，您还可以使用日期同义词替代：

```
$ task add Pay the rent due:eom
```

这里同义词 `eom` 表示 '月末'。
同义词是输入长日期的有用快捷方式。
这里是完整的集合：

* `now`                        - 当前本地日期和时间。
* `today`                      - 当前本地日期，时间 00:00:00。
* `sod`                        - 当前本地日期，时间 00:00:00。与 `today` 相同。
* `eod`                        - 当前本地日期，时间 23:59:59。
* `yesterday`                  - 昨天的本地日期，时间 00:00:00。
* `tomorrow`                   - 明天的本地日期，时间 00:00:00。
* `monday`、`tuesday`、...     - 指定星期后的本地日期，时间 00:00:00。可以简写，例如 `mon`、`tue` {{< label >}}2.6.0{{< /label >}}、可以大写，例如 `Monday`、`Tue`。
* `january`、`february`、...   - 指定月份的本地日期（第 1 天），时间 00:00:00。可以简写，例如 `jan`、`feb`。{{< label >}}2.6.0{{< /label >}}、可以大写，例如 `January`、`Feb`。
* `later`、`someday`           - 本地 9999-12-30，时间 00:00:00。一个很远的日期，对于 GTD 用户有意义。
* `soy`                        - 当前年本地日期（1 月 1 日），时间 00:00:00。
* `eoy`                        - 当前年本地日期（12 月 31 日），时间 23:59:59。
* `soq`                        - 当前季度本地日期（1 月、4 月、7 月、10 月）第 1 天，时间 00:00:00。
* `eoq`                        - 当前季度本地日期末美（3 月、6 月、9 月、12 月），该月最后一天，时间 23:59:59。
* `som`                        - 当前月本地日期的第 1 天，时间 00:00:00。
* `eom`                        - 当前月本地日期的最后一天，时间 23:59:59。
* `sow`                        - 当前周本地日期的开始（星期一），时间 00:00:00。
* `eow`                        - 当前周本地日期的结束（星期日夜间），时间 23:59:59。
* `soww`                       - 工作日周的本地日期开始（星期一），时间 00:00:00。
* `eoww`                       - 工作日周的本地日期结束（星期五夜间），时间 23:59:59。
* `1st`、`2nd`、...            - 下一个第 N 天的本地日期，时间 00:00:00。
* `goodfriday`                 - 下一个许可星期五的本地日期，时间 00:00:00。
* `easter`                     - 下一个复活节星期日的本地日期，时间 00:00:00。
* `eastermonday`               - 下一个复活节星期一的本地日期，时间 00:00:00。
* `ascension`                  - 下一个升天节的本地日期（复活节后 39 天），时间 00:00:00。
* `pentecost`                  - 下一个圣灵节的本地日期（复活节后 40 天），时间 00:00:00。
* `midsommar`                  - 6 月 20 日后的星期六的本地日期，时间 00:00:00。瑞典语。
* `midsommarafton`             - 6 月 19 日后的星期五的本地日期，时间 00:00:00。瑞典语。

视觉表示，请查看[命名日期](../named_dates/)。

同义词支持除 `rc.dateformat` 外的其他内容。

几乎每个同义词都支持包括修饰符 `n` 表示下一个或 `p` 表示上一个，例如：
* `sonw`                      - 下一个星期一的本地日期，时间 00:00:00。
* `sopw`                      - 上一个星期一的本地日期，时间 00:00:00。

为了使用日期并更好地理解哪个日期是哪个，您也可以使用 `task calc` 来计算日期。

```
$ task calc sony
```

## ISO-8601 格式 {{< label >}}2.4.0{{< /label >}}

ISO-8601 标准定义了一种在全球范围内指定日期和时间的明确格式。
Taskwarrior 支持以下 ISO-8601 定义的格式：

`YYYY-MM-DDThh:mm:ssZ`

`2015-06-15T12:34:56Z`

年、月、日、小时、分钟、秒（UTC）。

`YYYY-MM-DDThh:mmZ`

`2015-06-15T12:34Z`

年、月、日、小时、分钟、00 秒（UTC）。

`YYYY-DDDThh:mm:ssZ`

`2015-166T12:34:56Z`

年、日序号、小时、分钟、秒（UTC）。

`YYYY-DDDThh:mmZ`

`2015-166T12:34Z`

年、日序号、小时、分钟、00 秒（UTC）。

`YYYY-Www-DThh:mm:ssZ`

`2015-W24-1T12:34:56Z`

年、周数、星期数、小时、分钟、秒、UTC。

`YYYY-Www-DThh:mmZ`

`2015-W24-1T12:34Z`

年、周数、星期数、小时、分钟、00 秒、UTC。

`YYYY-WwwThh:mm:ssZ`

`2015-W24T12:34:56Z`

年、周数、一周的第一天、小时、分钟、秒、UTC。

`YYYY-WwwThh:mmZ`

`2015-W24T12:34Z`

年、周数、一周的第一天、小时、分钟、00 秒、UTC。

`YYYY-MM-DDThh:mm:ss+hh:mm`

`YYYY-MM-DDThh:mm:ss-hh:mm`

`2015-06-15T12:34:56+05:00`

`2015-06-15T12:34:56-05:00`

年、月、日、小时、分钟、秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-MM-DDThh:mm+hh:mm`

`YYYY-MM-DDThh:mm-hh:mm`

`2015-06-15T12:34+05:00`

`2015-06-15T12:34-05:00`

年、月、日、小时、分钟、00 秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-DDDThh:mm:ss+hh:mm`

`YYYY-DDDThh:mm:ss-hh:mm`

`2015-166T12:34:56+05:00`

`2015-166T12:34:56-05:00`

年、日序号、小时、分钟、秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-DDDThh:mm+hh:mm`

`YYYY-DDDThh:mm-hh:mm`

`2015-166T12:34+05:00`

`2015-166T12:34-05:00`

年、日序号、小时、分钟、00 秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-Www-DThh:mm:ss+hh:mm`

`YYYY-Www-DThh:mm:ss-hh:mm`

`2015-W24-1T12:34:56+05:00`

`2015-W24-1T12:34:56-05:00`

年、周数、星期数、小时、分钟、秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-Www-DThh:mm+hh:mm`

`YYYY-Www-DThh:mm-hh:mm`

`2015-W24-1T12:34+05:00`

`2015-W24-1T12:34-05:00`

年、周数、星期数、小时、分钟、00 秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-WwwThh:mm:ss+hh:mm`

`YYYY-WwwThh:mm:ss-hh:mm`

`2015-W24T12:34:56+05:00`

`2015-W24T12:34:56-05:00`

年、周数、一周的第一天、小时、分钟、秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-WwwThh:mm+hh:mm`

`YYYY-WwwThh:mm-hh:mm`

`2015-W24T12:34+05:00`

`2015-W24T12:34-05:00`

年、周数、一周的第一天、小时、分钟、00 秒、UTC 的正或负偏移（小时、分钟）。

`YYYY-MM-DDThh:mm:ss`

`2015-06-15T12:34:56`

年、月、日、小时、分钟、秒、本地时间。

`YYYY-MM-DDThh:mm`

`2015-06-15T12:34`

年、月、日、小时、分钟、00 秒、本地时间。

`YYYY-DDDThh:mm:ss`

`2015-166T12:34:56`

年、日序号、小时、分钟、秒、本地时间。

`YYYY-DDDThh:mm`

`2015-166T12:34`

年、日序号、小时、分钟、00 秒、本地时间。

`YYYY-Www-DThh:mm:ss`

`2015-W24-1T12:34:56`

年、周数、星期数、小时、分钟、秒、本地时间。

`YYYY-Www-DThh:mm`

`2015-W24-1T12:34`

年、周数、星期数、小时、分钟、00 秒、本地时间。

`YYYY-WwwThh:mm:ss`

`2015-W24T12:34:56`

年、周数、一周的第一天、小时、分钟、秒、本地时间。

`YYYY-WwwThh:mm`

`2015-W24T12:34`

年、周数、一周的第一天、小时、分钟、00 秒、本地时间。

`YYYY-MM-DD`

`2015-06-15`

年、月、日、00:00:00 本地时间。
请注意此格式与 `rc.dateformat` 默认值相同。

`YYYY-DDD`

`2015-166`

年、日序号、00 小时、00:00:00 本地时间。

`YYYY-Www-D`

`2015-W24-1`

年、周数、星期数、00:00:00 本地时间。

`YYYY-Www`

`2015-W24`

年、周数、一周的第一天、00:00:00 本地时间。

`YYYYWwwD`

`2015W241`

年、周数、星期数、00:00:00 本地时间。

`YYYYWww`

`2015W24`

年、周数、一周的第一天、00:00:00 本地时间。

`YYYY-MM`

`2015-06`

年、月、该月的第一天、00:00:00 本地时间。

`hh:mm:ssZ`

`12:34:56Z`

今天、小时、分钟、秒、UTC。

`hh:mmZ`

`12:34Z`

今天、小时、分钟、00 秒、UTC。

`hh:mm:ss+hh:mm`

`hh:mm:ss-hh:mm`

`12:34:56+05:00`

`12:34:56-05:00`

今天、小时、分钟、秒、UTC 的正或负偏移。

`hh:mm+hh:mm`

`hh:mm-hh:mm`

`12:34+05:00`

`12:34-05:00`

今天、小时、分钟、00 秒、UTC 的正或负偏移。

`hh:mm:ss`

`12:34:56`

今天、小时、分钟、秒、本地时间。

`hh:mm`

`12:34`

今天、小时、分钟、00 秒、本地时间。

ISO 日期由标准元素组成：

* `YYYY`   - ISO-8601 仅支持四位数年份，不支持缩写。
* `MM`     - 两位数、零填充的月数范围从 `01` 到 `12`。
* `DD`     - 两位数、零填充的日数范围从 `01` 到 `31`，取决于月份和年份。
* `Www`    - 周数 `W01` 定义为该年中包含星期四的第一周。`W01` 有时从前一年 12 月底开始。
某些年份的范围从 `W01` 到 `W53`
* `D`      - 星期数为 1-7（星期一至星期日）。
* `DDD`    - 日序号是 1 月 1 日为 001、12 月 31 日为 365，或闰年为 366。
* `T`      - 日期元素和时间元素之间的分隔符。
* `Z`      - 表示 UTC 时间，'Z' 表示 'Zulu'，一种军事格式。
* `+/-`    - 正偏移是 UTC 以东。
             负偏移是 UTC 以西。
* `hh`     - 两位数、零填充的小时，介于 `00` 和 `23` 之间。
* `mm`     - 两位数、零填充的分钟，介于 `00` 和 `59` 之间。
* `ss`     - 两位数、零填充的秒，介于 `00` 和 `59` 之间。

您可以使用任何 ISO 格式，独立于您的 `rc.dateformat` 设置。
Taskwarrior 的未来版本将不需要 `rc.dateformat` 来进行日期/时间输入。

## 警告

可以设置与内置格式冲突或与命令行中的其他已解析 lex 类型冲突的 `dateformat`。
日期格式在词法分析器优先级列表中的位置很高，因此能够覆盖其他类型。

例如，`dateformat` 为 `m-d` 意味着此命令：
```
$ task 1-5 list
```

被解释为此无意义的筛选器，该筛选器始终成功：
```
$ task 2016-01-05 list
```
