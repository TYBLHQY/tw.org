---
title: "Taskwarrior - 命令行语法"
---

# 命令行语法

Taskwarrior 有灵活的命令行语法，但一开始可能不清楚底层结构的含义。
下面是语法的一般形式：

![](../../images/syntax.png)

语法有四个部分（`filter`、`command`、`modifications` 和 `miscellaneous`），每个部分都是可选的。

## 命令

每次运行 Taskwarrior 时，你都在显式地或隐式地使用默认命令（`default.command` 配置设置）发出一个 `command`。
你指定的命令决定了 Taskwarrior 如何理解命令行。
下面是一些示例：

![](../../images/syntaxes.png)

第一个示例 `task list` 是没有筛选器的报告，第二个 `task +home list` 带有筛选器。
第三个 `task 12 modify project:Garden` 既有筛选器又有修改。
最后一个示例 `task show editor` 有一个杂项参数。

Taskwarrior 在命令行上查找看起来像确切命令名的第一个参数，如果没有，则查找缩写命令名。
最好使用命令的全名以避免歧义。

`command` 参数的位置和命令的类型决定了如何理解参数。

## 筛选器

筛选器是指定一组任务的一种方式。
因为筛选器是可选的，最简单的情况是没有筛选器。
没有筛选器的命令处理所有任务。

通常筛选器参数出现在命令之前，所以命令左边的任何参数都被视为筛选器参数。

有一个特殊情况，其中一个不支持修改或杂项参数的命令只期望筛选器参数，因此它们可以出现在命令之前或之后，而不会混淆 Taskwarrior：

![](../../images/filter.png)

## 修改

如果命令接受修改，它们通常出现在命令之后。
大多数接受修改的命令也接受筛选器，所以筛选器参数出现在命令之前，而修改出现之后。
下面是一个示例：

![](../../images/modification.png)

该命令指定了一个复合筛选器，由多个术语组成。
默认情况下，这些术语在逻辑上与 `and` 运算符组合，除非另有指定。
在这种情况下，同时具有 `home` 标签和 `status` 值为 `pending` 的任务将被修改。

修改出现在命令之后，将 `priority` 设置为 `H`（高），并将 `due` 日期设置为月末 (`eom`)。

因为筛选器在运行时进行评估，我们不知道会修改多少个任务。
可能没有、一个、许多或所有任务。
可以通过以下方式确定：

```
task +home status:pending count
```

编写此命令的用户会知道这会影响多少个任务，但这只是一个示例，没有显示上下文数据。

## 杂项

某些命令既不接受筛选器也不接受修改，但接受杂项参数。
一个示例是 `show` 命令，它查询配置设置，不接受筛选器：

![](../../images/miscellaneous.png)

这是另一个特殊情况，其中命令只接受杂项参数，因此它们可以出现在命令之前或之后。

## 覆盖

覆盖是配置设置的临时值，可以在命令行的任何地方指定，因为它们不被认为是筛选器、修改或杂项。
实际上，命令本身看不到覆盖，而是在命令运行之前处理它们。

![](../../images/override.png)

命令行上可以有任意数量的覆盖，它们对语法没有影响。
